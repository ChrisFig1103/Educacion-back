import{b2 as e,b3 as ge,b4 as _e,r as g,b5 as Z,b6 as xe,b7 as fe,b8 as ve,b9 as Ce,ba as ye,bb as be,bc as Se}from"./vendor-fa701907.js";import{S as je,E as we,a as Te,b as Ne,D as Le}from"./fluentui-icons-7028232d.js";import{S as f,I as K,P as ke,T as Q,a as qe,b as A,c as ee,d as Ie,D as Pe,e as Ee,C as B}from"./fluentui-react-d7f0d25c.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))p(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&p(r)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();const Re="modulepreload",Ae=function(t){return"/"+t},W={},V=function(s,a,p){if(!a||a.length===0)return s();const o=document.getElementsByTagName("link");return Promise.all(a.map(n=>{if(n=Ae(n),n in W)return;W[n]=!0;const r=n.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!p)for(let c=o.length-1;c>=0;c--){const _=o[c];if(_.href===n&&(!r||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":Re,r||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),r)return new Promise((c,_)=>{i.addEventListener("load",c),i.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>s()).catch(n=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n})};const Be="_layout_o4bzc_1",Me="_header_o4bzc_13",ze="_headerContainer_o4bzc_23",Qe="_headerTitleContainer_o4bzc_39",$e="_headerLogo_o4bzc_55",Fe="_headerTitle_o4bzc_39",Oe="_headerNavList_o4bzc_73",De="_headerNavPageLink_o4bzc_85",He="_headerNavPageLinkActive_o4bzc_113",Ue="_headerNavLeftMargin_o4bzc_123",Ge="_headerRightText_o4bzc_131",Ke="_microsoftLogo_o4bzc_141",We="_githubLogo_o4bzc_151",J={layout:Be,header:Me,headerContainer:ze,headerTitleContainer:Qe,headerLogo:$e,headerTitle:Fe,headerNavList:Oe,headerNavPageLink:De,headerNavPageLinkActive:He,headerNavLeftMargin:Ue,headerRightText:Ge,microsoftLogo:Ke,githubLogo:We},Ve=()=>e.jsxs("div",{className:J.layout,children:[e.jsx("header",{className:J.header,role:"banner"}),e.jsx(ge,{})]}),Je="_container_1qf1y_1",Xe="_chatRoot_1qf1y_15",Ye="_chatContainer_1qf1y_25",Ze="_chatEmptyState_1qf1y_41",et="_chatEmptyStateTitle_1qf1y_61",tt="_chatEmptyStateSubtitle_1qf1y_75",st="_chatMessageStream_1qf1y_107",nt="_chatMessageGpt_1qf1y_131",ot="_chatMessageGptMinWidth_1qf1y_145",at="_chatInput_1qf1y_155",rt="_chatAnalysisPanel_1qf1y_181",it="_chatSettingsSeparator_1qf1y_197",ct="_loadingLogo_1qf1y_205",lt="_commandsContainer_1qf1y_213",ut="_commandButton_1qf1y_223",h={container:Je,chatRoot:Xe,chatContainer:Ye,chatEmptyState:Ze,chatEmptyStateTitle:et,chatEmptyStateSubtitle:tt,chatMessageStream:st,chatMessageGpt:nt,chatMessageGptMinWidth:ot,chatInput:at,chatAnalysisPanel:rt,chatSettingsSeparator:it,loadingLogo:ct,commandsContainer:lt,commandButton:ut},dt="/assets/Logo-a588cf3f.svg";async function us(t){var p,o,n,r,l,m,i,c;const s=await fetch("/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t.question,approach:t.approach,overrides:{semantic_ranker:(p=t.overrides)==null?void 0:p.semanticRanker,semantic_captions:(o=t.overrides)==null?void 0:o.semanticCaptions,top:(n=t.overrides)==null?void 0:n.top,temperature:(r=t.overrides)==null?void 0:r.temperature,prompt_template:(l=t.overrides)==null?void 0:l.promptTemplate,prompt_template_prefix:(m=t.overrides)==null?void 0:m.promptTemplatePrefix,prompt_template_suffix:(i=t.overrides)==null?void 0:i.promptTemplateSuffix,exclude_category:(c=t.overrides)==null?void 0:c.excludeCategory}})}),a=await s.json();if(s.status>299||!s.ok)throw Error(a.error||"Unknown error");return a}async function pt(t){var p,o,n,r,l,m,i,c,_;const s=await fetch("/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({history:t.history,approach:t.approach,overrides:{semantic_ranker:(p=t.overrides)==null?void 0:p.semanticRanker,semantic_captions:(o=t.overrides)==null?void 0:o.semanticCaptions,top:(n=t.overrides)==null?void 0:n.top,temperature:(r=t.overrides)==null?void 0:r.temperature,prompt_template:(l=t.overrides)==null?void 0:l.promptTemplate,prompt_template_prefix:(m=t.overrides)==null?void 0:m.promptTemplatePrefix,prompt_template_suffix:(i=t.overrides)==null?void 0:i.promptTemplateSuffix,exclude_category:(c=t.overrides)==null?void 0:c.excludeCategory,suggest_followup_questions:(_=t.overrides)==null?void 0:_.suggestFollowupQuestions}})}),a=await s.json();if(s.status>299||!s.ok)throw Error(a.error||"Unknown error");return a}function te(t){return`/content/${t}`}var se=(t=>(t.RetrieveThenRead="rtr",t.ReadRetrieveRead="rrr",t.ReadDecomposeAsk="rda",t))(se||{});const ht="_answerContainer_1bfq8_1",mt="_answerLogo_1bfq8_17",gt="_answerText_1bfq8_25",_t="_selected_1bfq8_63",xt="_citationLearnMore_1bfq8_71",ft="_citation_1bfq8_71",vt="_followupQuestionsList_1bfq8_115",Ct="_followupQuestionLearnMore_1bfq8_123",yt="_followupQuestion_1bfq8_115",bt="_supContainer_1bfq8_161",St="_retryButton_1bfq8_219",jt="_loadingdots_1bfq8_263",wt="_loading_1bfq8_263",x={answerContainer:ht,answerLogo:mt,answerText:gt,selected:_t,citationLearnMore:xt,citation:ft,followupQuestionsList:vt,followupQuestionLearnMore:Ct,followupQuestion:yt,supContainer:bt,retryButton:St,loadingdots:jt,loading:wt};function Tt(t,s){const a=[],p=[];let o=t.replace(/<<([^>>]+)>>/g,(l,m)=>(p.push(m),""));return o=o.trim(),{answerHtml:o.split(/\[([^\]]+)\]/g).map((l,m)=>{if(m%2===0)return l;{let i;a.indexOf(l)!==-1?i=a.indexOf(l)+1:(a.push(l),i=a.length);const c=te(l);return _e(e.jsx("a",{className:"supContainer",title:l,onClick:()=>s(c),children:e.jsx("sup",{children:i})}))}}).join(""),citations:a,followupQuestions:p}}const ne=()=>e.jsx(je,{primaryFill:"rgba(115, 118, 225, 1)","aria-hidden":"true","aria-label":"Answer logo"}),Nt=({answer:t,isSelected:s,onCitationClicked:a,onThoughtProcessClicked:p,onSupportingContentClicked:o,onFollowupQuestionClicked:n,showFollowupQuestions:r})=>{const l=g.useMemo(()=>Tt(t.answer,a),[t]),m=Z.sanitize(l.answerHtml);return e.jsxs(f,{className:`${x.answerContainer} ${s&&x.selected}`,verticalAlign:"space-between",children:[e.jsx(f.Item,{children:e.jsxs(f,{horizontal:!0,horizontalAlign:"space-between",children:[e.jsx(ne,{}),e.jsxs("div",{children:[e.jsx(K,{style:{color:"black"},iconProps:{iconName:"Lightbulb"},title:"Show thought process",ariaLabel:"Show thought process",onClick:()=>p(),disabled:!t.thoughts}),e.jsx(K,{style:{color:"black"},iconProps:{iconName:"ClipboardList"},title:"Show supporting content",ariaLabel:"Show supporting content",onClick:()=>o(),disabled:!t.data_points.length})]})]})}),e.jsx(f.Item,{grow:!0,children:e.jsx("div",{className:x.answerText,dangerouslySetInnerHTML:{__html:m}})}),!!l.citations.length&&e.jsx(f.Item,{children:e.jsxs(f,{horizontal:!0,wrap:!0,tokens:{childrenGap:5},children:[e.jsx("span",{className:x.citationLearnMore,children:"Citations:"}),l.citations.map((i,c)=>{const _=te(i);return e.jsx("a",{className:x.citation,title:i,onClick:()=>a(_),children:`${++c}. ${i}`},c)})]})}),!!l.followupQuestions.length&&r&&n&&e.jsx(f.Item,{children:e.jsxs(f,{horizontal:!0,wrap:!0,className:`${l.citations.length?x.followupQuestionsList:""}`,tokens:{childrenGap:6},children:[e.jsx("span",{className:x.followupQuestionLearnMore,children:"Follow-up questions:"}),l.followupQuestions.map((i,c)=>e.jsx("a",{className:x.followupQuestion,title:i,onClick:()=>n(i),children:`${i}`},c))]})})]})},Lt=()=>{const t=xe({from:{opacity:0},to:{opacity:1}});return e.jsx(fe.div,{style:{...t},children:e.jsxs(f,{className:x.answerContainer,verticalAlign:"space-between",children:[e.jsx(ne,{}),e.jsx(f.Item,{grow:!0,children:e.jsxs("p",{className:x.answerText,children:["Generando respuesta",e.jsx("span",{className:x.loadingdots})]})})]})})},kt=({error:t,onRetry:s})=>e.jsxs(f,{className:x.answerContainer,verticalAlign:"space-between",children:[e.jsx(we,{"aria-hidden":"true","aria-label":"Error icon",primaryFill:"red"}),e.jsx(f.Item,{grow:!0,children:e.jsx("p",{className:x.answerText,children:t})}),e.jsx(ke,{className:x.retryButton,onClick:s,text:"Volver a intentar"})]}),qt="_questionInputContainer_wokwf_1",It="_questionInputTextArea_wokwf_19",Pt="_questionInputButtonsContainer_wokwf_29",Et="_questionInputSendButton_wokwf_41",Rt="_questionInputSendButtonDisabled_wokwf_49",T={questionInputContainer:qt,questionInputTextArea:It,questionInputButtonsContainer:Pt,questionInputSendButton:Et,questionInputSendButtonDisabled:Rt},At=({onSend:t,disabled:s,placeholder:a,clearOnSend:p})=>{const[o,n]=g.useState(""),r=()=>{s||!o.trim()||(t(o),p&&n(""))},l=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),r())},m=(c,_)=>{_?_.length<=1e3&&n(_):n("")},i=s||!o.trim();return e.jsxs(f,{horizontal:!0,className:T.questionInputContainer,children:[e.jsx(Q,{className:T.questionInputTextArea,placeholder:a,multiline:!0,resizable:!1,borderless:!0,value:o,onChange:m,onKeyDown:l}),e.jsx("div",{className:T.questionInputButtonsContainer,children:e.jsx("div",{className:`${T.questionInputSendButton} ${i?T.questionInputSendButtonDisabled:""}`,"aria-label":"Ask question button",onClick:r,children:e.jsx(Te,{primaryFill:"rgba(115, 118, 225, 1)"})})})]})},Bt="_examplesNavList_v5q0z_1",Mt="_example_v5q0z_1",zt="_exampleText_v5q0z_53",$={examplesNavList:Bt,example:Mt,exampleText:zt},Qt=({text:t,value:s,onClick:a})=>e.jsx("div",{className:$.example,onClick:()=>a(s),children:e.jsx("p",{className:$.exampleText,children:t})}),$t=[{text:"¿Qué te gustaría lograr o contribuir en tu vida profesional?",value:""},{text:"¿Tienes alguna pasión o causa social que te interese? ",value:""},{text:"¿Qué valores son importantes para ti en una carrera?",value:""}],Ft=({onExampleClicked:t})=>e.jsx("ul",{className:$.examplesNavList,children:$t.map((s,a)=>e.jsx("li",{children:e.jsx(Qt,{text:s.text,value:s.value,onClick:t})},a))}),Ot="_container_u4tj7_1",Dt="_message_u4tj7_17",X={container:Ot,message:Dt},M=({message:t})=>e.jsx("div",{className:X.container,children:e.jsx("div",{className:X.message,children:t})}),Ht="_thoughtProcess_exr0t_1",Ut={thoughtProcess:Ht};function Gt(t){const s=t.split(": "),a=s[0],p=s.slice(1).join(": ");return{title:a,content:p}}const Kt="_supportingContentNavList_ekyxv_1",Wt="_supportingContentItem_ekyxv_17",Vt="_supportingContentItemHeader_ekyxv_41",Jt="_supportingContentItemText_ekyxv_49",q={supportingContentNavList:Kt,supportingContentItem:Wt,supportingContentItemHeader:Vt,supportingContentItemText:Jt},Xt=({supportingContent:t})=>e.jsx("ul",{className:q.supportingContentNavList,children:t.map((s,a)=>{const p=Gt(s);return e.jsxs("li",{className:q.supportingContentItem,children:[e.jsx("h4",{className:q.supportingContentItemHeader,children:p.title}),e.jsx("p",{className:q.supportingContentItemText,children:p.content})]})})});var v=(t=>(t.ThoughtProcessTab="thoughtProcess",t.SupportingContentTab="supportingContent",t.CitationTab="citation",t))(v||{});const z={disabled:!0,style:{color:"grey"}},Yt=({answer:t,activeTab:s,activeCitation:a,citationHeight:p,className:o,onActiveTabChanged:n})=>{const r=!t.thoughts,l=!t.data_points.length,m=!a,i=Z.sanitize(t.thoughts);return e.jsxs(qe,{className:o,selectedKey:s,onLinkClick:c=>c&&n(c.props.itemKey),children:[e.jsx(A,{itemKey:v.ThoughtProcessTab,headerText:"Procesando",headerButtonProps:r?z:void 0,children:e.jsx("div",{className:Ut.thoughtProcess,dangerouslySetInnerHTML:{__html:i}})}),e.jsx(A,{itemKey:v.SupportingContentTab,headerText:"Contenido de apoyo",headerButtonProps:l?z:void 0,children:e.jsx(Xt,{supportingContent:t.data_points})}),e.jsx(A,{itemKey:v.CitationTab,headerText:"Fuente",headerButtonProps:m?z:void 0,children:e.jsx("iframe",{title:"Fuente",src:a,width:"100%",height:p})})]})},Zt="_container_1k5c7_1",es={container:Zt},ts=({className:t,onClick:s})=>e.jsxs("div",{className:`${es.container} ${t??""}`,onClick:s,children:[e.jsx(Ne,{}),e.jsx(ee,{children:"Ajustes"})]}),ss="_container_7708a_1",ns="_disabled_7708a_15",Y={container:ss,disabled:ns},os=({className:t,disabled:s,onClick:a})=>e.jsxs("div",{className:`${Y.container} ${t??""} ${s&&Y.disabled}`,onClick:a,children:[e.jsx(Le,{}),e.jsx(ee,{children:"Limpiar chat"})]}),as=()=>{const[t,s]=g.useState(!1),[a,p]=g.useState(""),[o,n]=g.useState(3),[r,l]=g.useState(!0),[m,i]=g.useState(!1),[c,_]=g.useState(""),[I,oe]=g.useState(!1),C=g.useRef(""),F=g.useRef(null),[N,O]=g.useState(!1),[L,P]=g.useState(),[D,E]=g.useState(),[S,y]=g.useState(void 0),[j,H]=g.useState(0),[b,U]=g.useState([]),k=async d=>{C.current=d,L&&P(void 0),O(!0),E(void 0),y(void 0);try{const w={history:[...b.map(G=>({user:G[0],bot:G[1].answer})),{user:d,bot:void 0}],approach:se.ReadRetrieveRead,overrides:{promptTemplate:a.length===0?void 0:a,excludeCategory:c.length===0?void 0:c,top:o,semanticRanker:r,semanticCaptions:m,suggestFollowupQuestions:I}},me=await pt(w);U([...b,[d,me]])}catch(u){P(u)}finally{O(!1)}},ae=()=>{C.current="",L&&P(void 0),E(void 0),y(void 0),U([])};g.useEffect(()=>{var d;return(d=F.current)==null?void 0:d.scrollIntoView({behavior:"smooth"})},[N]);const re=(d,u)=>{p(u||"")},ie=(d,u)=>{n(parseInt(u||"3"))},ce=(d,u)=>{l(!!u)},le=(d,u)=>{i(!!u)},ue=(d,u)=>{_(u||"")},de=(d,u)=>{oe(!!u)},pe=d=>{k(d)},he=(d,u)=>{D===d&&S===v.CitationTab&&j===u?y(void 0):(E(d),y(v.CitationTab)),H(u)},R=(d,u)=>{y(S===d&&j===u?void 0:d),H(u)};return e.jsxs("div",{className:h.container,children:[e.jsxs("div",{className:h.commandsContainer,children:[e.jsx(os,{className:h.commandButton,onClick:ae,disabled:!C.current||N}),e.jsx(ts,{className:h.commandButton,onClick:()=>s(!t)})]}),e.jsxs("div",{className:h.chatRoot,children:[e.jsxs("div",{className:h.chatContainer,children:[C.current?e.jsxs("div",{className:h.chatMessageStream,children:[b.map((d,u)=>e.jsxs("div",{children:[e.jsx(M,{message:d[0]}),e.jsx("div",{className:h.chatMessageGpt,children:e.jsx(Nt,{answer:d[1],isSelected:j===u&&S!==void 0,onCitationClicked:w=>he(w,u),onThoughtProcessClicked:()=>R(v.ThoughtProcessTab,u),onSupportingContentClicked:()=>R(v.SupportingContentTab,u),onFollowupQuestionClicked:w=>k(w),showFollowupQuestions:I&&b.length-1===u},u)})]},u)),N&&e.jsxs(e.Fragment,{children:[e.jsx(M,{message:C.current}),e.jsx("div",{className:h.chatMessageGptMinWidth,children:e.jsx(Lt,{})})]}),L?e.jsxs(e.Fragment,{children:[e.jsx(M,{message:C.current}),e.jsx("div",{className:h.chatMessageGptMinWidth,children:e.jsx(kt,{error:L.toString(),onRetry:()=>k(C.current)})})]}):null,e.jsx("div",{ref:F})]}):e.jsxs("div",{className:h.chatEmptyState,children:[e.jsx("div",{style:{fontSize:"120px",marginBottom:"16px"},children:e.jsx("img",{src:dt,alt:"Logo",style:{width:"360px"}})}),e.jsx("h1",{className:h.chatEmptyStateTitle,children:"¿En qué te podemos ayudar?"}),e.jsx("h2",{className:h.chatEmptyStateSubtitle,children:"Pregunta cualquier cosa o utilizar uno de nuestros ejemplos"}),e.jsx(Ft,{onExampleClicked:pe})]}),e.jsx("div",{className:h.chatInput,children:e.jsx(At,{clearOnSend:!0,placeholder:"Escribe una pregunta (Ejemplo: ¿Cuál carrera involucra machine learning?)",disabled:N,onSend:d=>k(d)})})]}),b.length>0&&S&&e.jsx(Yt,{className:h.chatAnalysisPanel,activeCitation:D,onActiveTabChanged:d=>R(d,j),citationHeight:"810px",answer:b[j][1],activeTab:S}),e.jsxs(Ie,{headerText:"Configure answer generation",isOpen:t,isBlocking:!1,onDismiss:()=>s(!1),closeButtonAriaLabel:"Close",onRenderFooterContent:()=>e.jsx(Pe,{onClick:()=>s(!1),children:"Close"}),isFooterAtBottom:!0,children:[e.jsx(Q,{className:h.chatSettingsSeparator,defaultValue:a,label:"Override prompt template",multiline:!0,autoAdjustHeight:!0,onChange:re}),e.jsx(Ee,{className:h.chatSettingsSeparator,label:"Retrieve this many documents from search:",min:1,max:50,defaultValue:o.toString(),onChange:ie}),e.jsx(Q,{className:h.chatSettingsSeparator,label:"Exclude category",onChange:ue}),e.jsx(B,{className:h.chatSettingsSeparator,checked:r,label:"Use semantic ranker for retrieval",onChange:ce}),e.jsx(B,{className:h.chatSettingsSeparator,checked:m,label:"Use query-contextual summaries instead of whole documents",onChange:le,disabled:!r}),e.jsx(B,{className:h.chatSettingsSeparator,checked:I,label:"Suggest follow-up questions",onChange:de})]})]})]})};ve();const rs=Ce([{path:"/",element:e.jsx(Ve,{}),children:[{index:!0,element:e.jsx(as,{})},{path:"qa",lazy:()=>V(()=>import("./OneShot-a43e1a47.js"),["assets/OneShot-a43e1a47.js","assets/vendor-fa701907.js","assets/fluentui-react-d7f0d25c.js","assets/fluentui-icons-7028232d.js","assets/OneShot-0a57a895.css"])},{path:"*",lazy:()=>V(()=>import("./NoPage-e303d21a.js"),["assets/NoPage-e303d21a.js","assets/vendor-fa701907.js"])}]}]);ye.createRoot(document.getElementById("root")).render(e.jsx(be.StrictMode,{children:e.jsx(Se,{router:rs})}));export{se as A,Ft as E,At as Q,ts as S,Nt as a,v as b,kt as c,Yt as d,us as e};
//# sourceMappingURL=index-757b271b.js.map
